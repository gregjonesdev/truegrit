{% extends '_base.html' %}

{% block content %}
<div style="width: 95%; margin: 50px auto">
    <div id="clock"></div>
    <form>
      <div class="row" style="width: 100%; margin:auto">
        <div class="form-group col-12 col-sm-3"; style="margin: 0px">
          <label for="startTimeEntry" style="display: none">Start Time</label>
          <input type="time" class="form-control" id="startTimeEntry">
        </div>
        
        <div id="numberdropdown" class="form-group col-12 col-sm-2" style="padding: 0px">
          <label for="numberdropdownentry" style="display: none">Project Number</label>
          <select class="form-control" id="numberdropdownselect">
            <option value="" selected disabled>Project Number</option>
            <option>New Project</option>
            <option>2</option>
            <option>3</option>
            <option>4</option>
            <option>5</option>
          </select>
          
        </div>

        <div id="numberentry" class="form-group col-12 col-sm-6" style="padding: 0px; display:none">
          <input type="text" class="form-control" id="projectnumber" placeholder="Project Number/Description">
        </div>

        <div class="form-group col-12 col-sm-2" style="padding: 0px">
          <button id="start-button" type="button" class="btn btn-outline-primary btn-large w-100" >Start</button>
        </div>
      </div>

      <div class="row" style="width: 100%; margin:auto">
        
      </div>
        
      <div id="description-field" class="form-group" style="border: 1px solid green">
          <input type="text" class="form-control" id="taskdescription" placeholder="Task Description">
      </div>
    </form>

</div>
<script>
    const now = new Date();
  
    // Format the time as HH:MM
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    const currentTime = `${hours}:${minutes}`;
    
    // Set the value of the input field
    document.getElementById('startTimeEntry').value = currentTime;

    document.getElementById('numberdropdownselect').addEventListener("change", handleClick)

    function handleClick() {
      const numberdropdown = document.getElementById('numberdropdown')
      const numberdropdownselect = document.getElementById('numberdropdownselect')
      console.log(numberdropdown)
      if (numberdropdownselect.value == "New Project") {
        document.getElementById('numberdropdown').style.display = "none"
        document.getElementById('numberentry').style.display = ""
      }
      
    }
</script>

{% endblock content %}